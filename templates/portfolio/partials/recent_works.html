{% load static %}

<section class="py-20 bg-white overflow-hidden">
  <div class="container mx-auto px-4 md:px-8">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 text-primary">
        Our Recent Work
      </h2>
      <p class="text-gray-600 text-lg">
        Crafting digital experiences that make an impact
      </p>
    </div>

    <!-- Projects Grid -->
    <div class="relative">
      <!-- Projects Container -->
      <div id="projects-container" class="overflow-hidden">
        <div
          id="projects-slider"
          class="flex gap-6 transition-transform duration-500 ease-in-out"
        >
          {% for project in projects %}
          <div class="flex-none w-[85%] md:w-[45%] lg:w-[30%] project-item">
            <div
              class="group relative overflow-hidden rounded-2xl border border-gray-200 hover:border-primary transition-all duration-300 h-full"
            >
              <div class="aspect-[3/4] relative">
                <img
                  src="{{ project.image.url }}"
                  alt="{{ project.title }}"
                  class="w-full h-full object-cover"
                />

                <div
                  class="absolute inset-0 bg-gradient-to-t from-primary/90 to-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
                >
                  <div
                    class="absolute inset-0 flex flex-col items-center justify-center text-center p-6 opacity-0 group-hover:opacity-100 transition-all duration-300 transform group-hover:translate-y-0 translate-y-4"
                  >
                    <h3 class="text-2xl font-bold text-white mb-3">
                      {{ project.title }}
                    </h3>
                    <p class="text-white/90 mb-6">
                      {{ project.description|truncatechars:100 }}
                    </p>
                    <a
                      href="{{ project.url }}"
                      class="text-white font-semibold hover:underline"
                    >
                      Explore &rarr;
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}

          <!-- Cloned Projects for Infinite Scroll -->
          {% for project in projects %}
          <div class="flex-none w-[85%] md:w-[45%] lg:w-[30%] project-item">
            <div
              class="group relative overflow-hidden rounded-2xl border border-gray-200 hover:border-primary transition-all duration-300 h-full"
            >
              <!-- Project Image with Gradient Overlay -->
              <div class="aspect-[3/4] relative">
                <img
                  src="{{ project.image.url }}"
                  alt="{{ project.title }}"
                  class="w-full h-full object-cover"
                />
                <!-- Gradient Overlay (visible on hover) -->
                <div
                  class="absolute inset-0 bg-gradient-to-t from-primary/90 to-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
                >
                  <!-- Centered Content -->
                  <div
                    class="absolute inset-0 flex flex-col items-center justify-center text-center p-6 opacity-0 group-hover:opacity-100 transition-all duration-300 transform group-hover:translate-y-0 translate-y-4"
                  >
                    <h3 class="text-2xl font-bold text-white mb-3">
                      {{ project.title }}
                    </h3>
                    <p class="text-white/90 mb-6">
                      {{ project.description|truncatechars:100 }}
                    </p>
                    <a
                      href="{{ project.url }}"
                      class="text-white font-semibold hover:underline"
                    >
                      Explore &rarr;
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- View More Button -->
    <div class="text-center mt-12">
      <a
        href="#"
        class="inline-block px-10 py-4 bg-transparent border-2 border-primary text-primary font-bold rounded-full hover:bg-primary hover:text-white transition-all"
      >
        View All Projects
      </a>
    </div>
  </div>
</section>

<script src="{% static 'js/portfolio/recent_works.js' %}"></script>
