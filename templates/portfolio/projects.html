{% extends 'base.html' %}
{% load static %}

{% block content %}

<!-- Hero Section -->
<section class="relative min-h-[60vh] flex items-center py-20 bg-gradient-to-b from-black/95 to-black/80">
  <div class="absolute inset-0 -z-10">
    <img src="{% static 'images/projects-hero.jpg' %}" alt="Our Projects" class="w-full h-full object-cover"/>
  </div>
  <div class="container mx-auto px-4 md:px-8">
    <div class="max-w-4xl mx-auto text-center">
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6">
        Our Work Speaks for Itself
      </h1>
      <p class="text-gray-300 text-lg md:text-xl leading-relaxed max-w-2xl mx-auto">
        Explore our portfolio of successful projects that have transformed businesses and delivered exceptional results.
      </p>
    </div>
  </div>
</section>

<!-- Stats Section -->
<section class="py-16 bg-gray-50">
  <div class="container mx-auto px-4 md:px-8">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
      <div class="reveal">
        <div class="text-5xl font-bold text-primary mb-2" data-target="150">0</div>
        <div class="text-gray-600 font-medium">Projects Delivered</div>
      </div>
      <div class="reveal">
        <div class="text-5xl font-bold text-primary mb-2" data-target="50">0</div>
        <div class="text-gray-600 font-medium">Happy Clients</div>
      </div>
      <div class="reveal">
        <div class="text-5xl font-bold text-primary mb-2" data-target="98">0</div>
        <div class="text-gray-600 font-medium">Success Rate %</div>
      </div>
      <div class="reveal">
        <div class="text-5xl font-bold text-primary mb-2" data-target="15">0</div>
        <div class="text-gray-600 font-medium">Countries Served</div>
      </div>
    </div>
  </div>
</section>

{% if featured_project %}
<!-- Featured Project -->
<section class="py-24 bg-white">
    <div class="container mx-auto px-4 md:px-8">
        <div class="reveal text-center mb-16">
            <span class="inline-block px-6 py-2 bg-primary/10 text-primary font-bold rounded-full mb-4">Featured Case Study</span>
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Project Spotlight</h2>
        </div>
        
        <div class="reveal max-w-7xl mx-auto">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div>
                    <div class="rounded-3xl overflow-hidden shadow-2xl">
                        <img src="{{ featured_project.image.url }}" alt="{{ featured_project.title }}" class="w-full h-[500px] object-cover"/>
                    </div>
                </div>
                <div>
                    <h3 class="text-3xl md:text-4xl font-bold mb-4">{{ featured_project.title }}</h3>
                    <p class="text-gray-600 text-sm mb-6 leading-relaxed">
                        {{ featured_project.case_study_description }}
                    </p>
                    <div class="grid grid-cols-2 gap-6 mb-8">
                        {% if featured_project.sales_increase %}
                        <div>
                            <div class="text-2xl font-bold text-primary mb-2">{{ featured_project.sales_increase }}</div>
                            <div class="text-gray-600">Sales Increase</div>
                        </div>
                        {% endif %}
                        {% if featured_project.daily_users %}
                        <div>
                            <div class="text-2xl font-bold text-primary mb-2">{{ featured_project.daily_users }}</div>
                            <div class="text-gray-600">Daily Users</div>
                        </div>
                        {% endif %}
                        {% if featured_project.uptime %}
                        <div>
                            <div class="text-2xl font-bold text-primary mb-2">{{ featured_project.uptime }}</div>
                            <div class="text-gray-600">Uptime</div>
                        </div>
                        {% endif %}
                        {% if featured_project.user_rating %}
                        <div>
                            <div class="text-2xl font-bold text-primary mb-2">{{ featured_project.user_rating }}</div>
                            <div class="text-gray-600">User Rating</div>
                        </div>
                        {% endif %}
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Projects Grid -->
<section class="py-20 bg-white overflow-hidden">
  <div class="container mx-auto px-4 md:px-8">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 text-primary">
        Our Recent Work
      </h2>
      <p class="text-gray-600 text-lg">
        Crafting digital experiences that make an impact
      </p>
    </div>

    <!-- Projects Grid -->
    <div class="relative">
      <!-- Projects Container -->
      <div id="projects-container" class="overflow-hidden">
        <div
          id="projects-slider"
          class="flex gap-6 transition-transform duration-500 ease-in-out"
        >
          {% for project in projects %}
          <div class="flex-none w-[85%] md:w-[45%] lg:w-[30%] project-item">
            <div
              class="group relative overflow-hidden rounded-2xl border border-gray-200 hover:border-primary transition-all duration-300 h-full"
            >
              <div class="aspect-[3/4] relative">
                <img
                  src="{{ project.image.url }}"
                  alt="{{ project.title }}"
                  class="w-full h-full object-cover"
                />

                <div
                  class="absolute inset-0 bg-gradient-to-t from-primary/90 to-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
                >
                  <div
                    class="absolute inset-0 flex flex-col items-center justify-center text-center p-6 opacity-0 group-hover:opacity-100 transition-all duration-300 transform group-hover:translate-y-0 translate-y-4"
                  >
                    <h3 class="text-2xl font-bold text-white mb-3">
                      {{ project.title }}
                    </h3>
                    <p class="text-white/90 mb-6">
                      {{ project.description|truncatechars:100 }}
                    </p>
                    <a
                      href="{{ project.url }}"
                      class="text-white font-semibold hover:underline"
                    >
                      Explore &rarr;
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}

          <!-- Cloned Projects for Infinite Scroll -->
          {% for project in projects %}
          <div class="flex-none w-[85%] md:w-[45%] lg:w-[30%] project-item">
            <div
              class="group relative overflow-hidden rounded-2xl border border-gray-200 hover:border-primary transition-all duration-300 h-full"
            >
              <!-- Project Image with Gradient Overlay -->
              <div class="aspect-[3/4] relative">
                <img
                  src="{{ project.image.url }}"
                  alt="{{ project.title }}"
                  class="w-full h-full object-cover"
                />
                <!-- Gradient Overlay (visible on hover) -->
                <div
                  class="absolute inset-0 bg-gradient-to-t from-primary/90 to-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
                >
                  <!-- Centered Content -->
                  <div
                    class="absolute inset-0 flex flex-col items-center justify-center text-center p-6 opacity-0 group-hover:opacity-100 transition-all duration-300 transform group-hover:translate-y-0 translate-y-4"
                  >
                    <h3 class="text-2xl font-bold text-white mb-3">
                      {{ project.title }}
                    </h3>
                    <p class="text-white/90 mb-6">
                      {{ project.description|truncatechars:100 }}
                    </p>
                    <a
                      href="{{ project.url }}"
                      class="text-white font-semibold hover:underline"
                    >
                      Explore &rarr;
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials -->
{% include 'portfolio/partials/testimonials.html' %}

<!-- Process Section -->
<section class="py-24 bg-white">
  <div class="container mx-auto px-4 md:px-8">
    <div class="reveal text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold mb-4">Our Project Process</h2>
      <p class="text-gray-600 text-lg max-w-2xl mx-auto">
        A proven methodology that ensures successful project delivery every time
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
      <div class="reveal text-center">
        <div class="w-20 h-20 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-6">
          <span class="text-3xl font-bold text-primary">01</span>
        </div>
        <h3 class="text-xl font-bold mb-3">Discovery & Research</h3>
        <p class="text-gray-600">Understanding your goals, audience, and market landscape</p>
      </div>
      <div class="reveal text-center">
        <div class="w-20 h-20 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-6">
          <span class="text-3xl font-bold text-primary">02</span>
        </div>
        <h3 class="text-xl font-bold mb-3">Strategy & Planning</h3>
        <p class="text-gray-600">Creating a roadmap with clear milestones and deliverables</p>
      </div>
      <div class="reveal text-center">
        <div class="w-20 h-20 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-6">
          <span class="text-3xl font-bold text-primary">03</span>
        </div>
        <h3 class="text-xl font-bold mb-3">Design & Development</h3>
        <p class="text-gray-600">Building your solution with cutting-edge technologies</p>
      </div>
      <div class="reveal text-center">
        <div class="w-20 h-20 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-6">
          <span class="text-3xl font-bold text-primary">04</span>
        </div>
        <h3 class="text-xl font-bold mb-3">Launch & Support</h3>
        <p class="text-gray-600">Ensuring successful deployment and ongoing optimization</p>
      </div>
    </div>
  </div>
</section>

<!-- FAQs Section -->
<section class="py-24 bg-gray-50">
    <div class="container mx-auto px-4 md:px-8">
        <div class="max-w-3xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Frequently Asked Questions</h2>
            
            <div class="space-y-6">
                <!-- FAQ Item 1 -->
                <div class="faq-item">
                    <button class="w-full flex justify-between items-center text-left p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-all">
                        <span class="text-lg font-semibold">What is your typical project timeline?</span>
                        <i class="fas fa-plus text-primary transition-transform duration-300"></i>
                    </button>
                    <div class="faq-answer hidden mt-4 px-6 text-gray-600">
                        Project timelines vary based on complexity. Typical websites take 4-8 weeks, while larger applications may take 3-6 months.
                    </div>
                </div>

                <!-- FAQ Item 2 -->
                <div class="faq-item">
                    <button class="w-full flex justify-between items-center text-left p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-all">
                        <span class="text-lg font-semibold">Do you provide post-launch support?</span>
                        <i class="fas fa-plus text-primary transition-transform duration-300"></i>
                    </button>
                    <div class="faq-answer hidden mt-4 px-6 text-gray-600">
                        Yes, we offer various maintenance packages to ensure your project remains up-to-date and performs optimally.
                    </div>
                </div>

                
            </div>
        </div>
    </div>
</section>

<style>
  .reveal {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .reveal.revealed {
    opacity: 1;
    transform: translateY(0);
  }

  .filter-btn {
    background: transparent;
    color: #6b7280;
    border: 2px solid #e5e7eb;
  }

  .filter-btn.active {
    background: #005828;
    color: white;
    border-color: #005828;
  }

  .filter-btn:hover {
    border-color: #005828;
    color: #005828;
  }

  .filter-btn.active:hover {
    background: #004520;
    color: white;
  }
</style>

<script>
  // Intersection Observer for Reveal on Scroll
  const reveals = document.querySelectorAll('.reveal');
  
  const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('revealed');
        revealObserver.unobserve(entry.target);
      }
    });
  }, {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  });

  reveals.forEach(reveal => {
    revealObserver.observe(reveal);
  });

  // Counter Animation
  const counters = document.querySelectorAll('[data-target]');
  
  const counterObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const target = parseInt(entry.target.getAttribute('data-target'));
        animateCounter(entry.target, target);
        counterObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.5 });
  
  counters.forEach(counter => counterObserver.observe(counter));
  
  function animateCounter(element, target) {
    let current = 0;
    const increment = target / 50;
    const timer = setInterval(() => {
      current += increment;
      if (current >= target) {
        element.textContent = target;
        clearInterval(timer);
      } else {
        element.textContent = Math.floor(current);
      }
    }, 30);
  }


</script>

<script src="{% static 'js/portfolio/recent_works.js' %}"></script>
<script src="{% static 'js/portfolio/faqs.js' %}"></script>
{% endblock %}